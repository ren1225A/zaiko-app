{% extends "base.html" %}

{% block content %}
<h2>ğŸ“ ã‚«ãƒ†ã‚´ãƒªãƒ¼ç®¡ç†ï¼ˆåº—ä¸»ã®ã¿ï¼‰</h2>

<!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ  -->
<div class="category-add-form">
    <h3>æ–°ã—ã„ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’è¿½åŠ </h3>
    <form method="POST" action="{{ url_for('add_category') }}">
        <div class="form-group">
            <input type="text" name="name" placeholder="ã‚«ãƒ†ã‚´ãƒªãƒ¼åï¼ˆä¾‹: ã‚³ãƒ¼ãƒ’ãƒ¼ï¼‰" required autofocus>
        </div>
        <div class="form-group">
            <input type="text" name="icon_filename" placeholder="ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆä¾‹: ã‚³ãƒ¼ãƒ’ãƒ¼è±†.jpgï¼‰">
            <small>â€» static/images/ ãƒ•ã‚©ãƒ«ãƒ€ã«ç”»åƒã‚’é…ç½®ã—ã¦ãã ã•ã„</small>
        </div>
        <button type="submit" class="btn btn-primary">è¿½åŠ </button>
    </form>
</div>

<!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ä¸€è¦§ -->
<div class="category-list">
    <h3>ç¾åœ¨ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼</h3>
    {% for category in categories %}
    <div class="category-item">
        <div class="category-display">
            {% if category.icon_path %}
            <img src="{{ url_for('static', filename='images/' + category.icon_path) }}" alt="{{ category.name }}" class="category-icon">
            {% else %}
            <span class="category-icon-placeholder">ğŸ“</span>
            {% endif %}
            <span class="category-name">{{ category.name }}</span>
        </div>
        <form method="POST" action="{{ url_for('delete_category', category_id=category.category_id) }}" 
              style="display: inline;"
              onsubmit="return confirm('ã‚«ãƒ†ã‚´ãƒªãƒ¼ã€Œ{{ category.name }}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\nâ€»å“ç›®ãŒç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯å‰Šé™¤ã§ãã¾ã›ã‚“ã€‚');">
            <button type="submit" class="btn btn-small btn-danger">å‰Šé™¤</button>
        </form>
    </div>
    {% endfor %}
</div>
</div>

<a href="{{ url_for('index') }}" class="btn btn-secondary">åœ¨åº«ä¸€è¦§ã«æˆ»ã‚‹</a>

{% endblock %}